<form [formGroup]="formGroup" (ngSubmit)="submitComment()">
  <fieldset class="mb-3">
    <legend>Neuen Kommentar schreiben:</legend>

    <mat-form-field class="full-width">
      <textarea matInput formControlName="comment" type="text"></textarea>
      <mat-error *ngIf="formGroup.controls.comment.hasError('required')"
        >Bitte geben Sie einen Kommentar ein</mat-error
      >
      <mat-error
        *ngIf="formGroup.controls.comment.hasError('trimmedPattern')"
        >{{
          formGroup.controls.comment.getError('trimmedPattern').errorMessage
        }}</mat-error
      >
    </mat-form-field>
  </fieldset>
  <div class="button-area">
    <qro-button [disabled]="formGroup.invalid">
      Kommentar absenden
    </qro-button>
  </div>
</form>
<div
  class="comment-area"
  *ngIf="comments && comments.length > 0; else noComments"
>
  <div *ngFor="let comment of comments" class="comment">
    <div class="comment-headline">
      <div class="date">{{ comment.date | date: 'dd.MM.yyyy HH:mm' }}</div>
      <div class="author">{{ comment.author }}</div>
    </div>
    <div class="comment-body">
      {{ comment.comment }}
    </div>
  </div>
</div>
<ng-template #noComments>
  <div class="no-comments">
    Noch keine Kommentare vorhanden.
  </div>
</ng-template>
